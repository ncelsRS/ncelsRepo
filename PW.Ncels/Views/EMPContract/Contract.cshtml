@using PW.Ncels.Database.Constants
@using PW.Ncels.Database.DataModel
@model Guid?
@{
    ViewBag.Title = "Contract";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@Html.Partial("~/Views/Home/OBK_SignView.cshtml")

@{
    var GeneratedGuid = Guid.NewGuid().ToString();
    var ModelGuid = "";
    if (Model == null)
    {
        ModelGuid = GeneratedGuid;
    }
    else
    {
        ModelGuid = Model.ToString();
    }
}

<style>
    input.ng-invalid, .ui-select-container.ng-invalid > div > span {
        border: 1px solid red;
    }

    div {
        white-space: normal;
        height: auto;
    }
</style>

<form name="ContractForm">
    <div ng-controller="empContractForm">
        <div class="row wrapper border-bottom white-bg page-heading" ng-init="setContractScope('@ViewBag.Scope')">
            <div class="col-lg-12">
                <h2 ng-show="object.Status == null || object.Status == @CodeConstManager.STATUS_OBK_DRAFT_ID">Новый договор</h2>
                <h2 ng-show="!(object.Status == null || object.Status == @CodeConstManager.STATUS_OBK_DRAFT_ID) && object.Number == 'б/н'">Договор {{object.Number}}</h2>
                <h2 ng-show="!(object.Status == null || object.Status == @CodeConstManager.STATUS_OBK_DRAFT_ID) && object.Number != 'б/н'">Договор №{{object.Number}}</h2>
                <ol class="breadcrumb">
                    <li>
                        <a href="@Url.Action("Index", "Home")">Домашняя страница</a>
                    </li>
                    <li>
                        <a>Договоры</a>
                    </li>
                    <li class="active" ng-show="object.Status == null || object.Status == @CodeConstManager.STATUS_OBK_DRAFT_ID">
                        <strong>Создать договор</strong>
                    </li>
                    <li class="active" ng-show="!(object.Status == null || object.Status == @CodeConstManager.STATUS_OBK_DRAFT_ID)">
                        <strong>Просмотр договора</strong>
                    </li>
                </ol>
            </div>
        </div>
        <input type="hidden" value="@Model" id="projectId" />
        <input type="hidden" value="@GeneratedGuid" id="generatedGuid" />
        <input type="hidden" value="@ModelGuid" id="modelGuid" />
        <div class="wrapper wrapper-content animated fadeInRight">
            <div class="row">
                <div class="col-lg-12">
                    <div class="ibox float-e-margins">
                        <div class="ibox-title">
                            <h5 ng-show="object.Status == null || object.Status == @CodeConstManager.STATUS_OBK_DRAFT_ID">
                                Новый договор
                                <small>Заполните все поля формы</small>
                            </h5>
                            <h5 ng-show="!(object.Status == null || object.Status == @CodeConstManager.STATUS_OBK_DRAFT_ID)">
                                Договор
                                <small ng-show="object.Status == @CodeConstManager.STATUS_OBK_ONCORRECTION">Внесите изменения на форму</small>
                            </h5>
                            <div ibox-tools></div>
                        </div>
                        <div class="ibox-content ibox-heading">
                            <div class="note-font btn-group">
                                <button id="btnBackToList" class="btn btn-info btn-sm" type="button" onclick="location.href='@ViewBag.ReturnUrl'"><i class="fa fa-arrow-left"></i> Вернуться в список</button>
                                <button class="btn btn-default btn-sm" type="button" ng-click="saveBtnClick()" @*check-validate ng-disabled="object.viewMpde" ng-if="!object.Contract.ContractStatus || object.Contract.ContractStatus.Code=='@Contract.StatusNew' || object.Contract.ContractStatus.Code=='@Contract.StatusOnCorrection'"*@>
                                    <i class="fa fa-save"></i>
                                    Сохранить
                                </button>
                                <button class="btn btn-default btn-sm" type="button" ng-click="sendWithDigitalSign();" check-validate><i class="fa fa-send-o"></i> Подписать ЭЦП и отправить в ЦОЗ</button>
                                <button class="btn btn-default btn-sm" type="button" ng-click="sendWithoutDigitalSign();" check-validate><i class="fa fa-send-o"></i> Отправить в ЦОЗ без подписи</button>
                                <button class="btn btn-default btn-sm" type="button" ng-click="viewContract('@ModelGuid')"><i class="fa fa-eye"></i> Просмотр</button>

                            </div>
                        </div>
                        <form name="contractCreateForm">
                            <div class="ibox-content">
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="form-horizontal row">
                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <label class="control-label col-lg-4">Договор составляется с *</label>
                                                    <div class="col-lg-8">
                                                        <ui-select ng-model="object.HolderType" theme="bootstrap" name="type" ui-select-selected required>
                                                            <ui-select-match>{{$select.selected.NameRu}}</ui-select-match>
                                                            <ui-select-choices repeat="item.Id as item in HolderType | filter: $select.search">
                                                                <div ng-bind-html="item.NameRu| highlight: $select.search"></div>
                                                            </ui-select-choices>
                                                        </ui-select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <label class="control-label col-lg-4">Тип договора *</label>
                                                    <div class="col-lg-8">
                                                        <ui-select ng-model="object.ContractType" theme="bootstrap" name="type" ui-select-selected required>
                                                            <ui-select-match>{{$select.selected.NameRu}}</ui-select-match>
                                                            <ui-select-choices repeat="item.Id as item in ContractTypes | filter: $select.search">
                                                                <div ng-bind-html="item.NameRu| highlight: $select.search"></div>
                                                            </ui-select-choices>
                                                        </ui-select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tabs-container">
                                            <ul class="nav nav-tabs">
                                                <li class="active"><a data-toggle="tab" href="#tab-1">Производитель</a></li>
                                                <li class=""><a data-toggle="tab" href="#tab-2">Заявитель</a></li>
                                                <li class=""><a data-toggle="tab" href="#tab-3">Плательщик</a></li>
                                                <li class=""><a data-toggle="tab" href="#tab-4">Стоимость работ</a></li>
                                                <li class=""><a data-toggle="tab" href="#tab-5" ng-click="tab5click();">Вложения</a></li>
                                            </ul>
                                            <div class="tab-content">
                                                <div id="tab-1" class="tab-pane active">
                                                    <div class="panel-body">
                                                        <div class="row">
                                                            <div class="col-lg-6 b-r">

                                                                <div class="form-group">
                                                                    <div class="radio-inline">
                                                                        <label><input type="radio" name="manufacturisresident" ng-model="object.Manufactur.IsResident" ng-value="true" ng-change="residentChange('Manufactur');">Резидент РК</label>
                                                                    </div>
                                                                    <div class="radio-inline">
                                                                        <label><input type="radio" name="manufacturisresident" ng-model="object.Manufactur.IsResident" ng-value="false" ng-change="residentChange('Manufactur');">Нерезидент РК</label>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group" ng-show="object.Manufactur.IsResident == true">
                                                                    <label>ИИН/БИН *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input maxlength="12" id="bin" ng-model="object.Manufactur.Bin" class="form-control edit-control" type="text" ui-select-selected name="bin" ng-required="object.Manufactur.IsResident == true" ng-disabled="iinSearchActive" ng-pattern="iinPattern" ng-minlength="iinMinLength" ng-maxlength="iinMaxLength" ui-mask="999999999999" ui-mask-placeholder ui-mask-placeholder-char="_">
                                                                    </div>
                                                                    <button type="button" class="btn btn-sm btn-success" ng-disabled="object.Manufactur.Bin == null || object.Manufactur.Bin.length !== 12 || iinSearchActiveManufactur" ng-click="findDeclarant('Manufactur');">Найти</button>
                                                                    <button type="button" class="btn btn-sm btn-success" ng-click="cancelFind('Manufactur');" ng-disabled="!iinSearchActiveManufactur">Отмена</button>
                                                                </div>

                                                                <div class="form-group" ng-show="object.Manufactur.IsResident == false">
                                                                    <label>Страна</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <ui-select ng-model="object.Manufactur.Country" theme="bootstrap" ui-select-selected ng-required="object.Manufactur.IsResident == false" ng-change="nonResidentCountryChange('Manufactur');">
                                                                            <ui-select-match>{{$select.selected.Name}}</ui-select-match>
                                                                            <ui-select-choices repeat="item.Id as item in Country | filter: $select.search">
                                                                                <div ng-bind-html="item.Name| highlight: $select.search"></div>
                                                                            </ui-select-choices>
                                                                        </ui-select>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group" ng-show="object.Manufactur.IsResident == false">
                                                                    <label>Наименование на русском языке *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <ui-select ng-model="object.Manufactur.NameNonResident" theme="bootstrap" ui-select-selected ng-required="object.Manufactur.IsResident == false" ng-disabled="object.Manufactur.Country == null" ng-change="nameNonResidentChange('Manufactur');">
                                                                            <ui-select-match>{{$select.selected.Name}}</ui-select-match>
                                                                            <ui-select-choices repeat="item.Id as item in NamesNonResidents | filter: $select.search">
                                                                                <div ng-bind-html="item.Name| highlight: $select.search"></div>
                                                                            </ui-select-choices>
                                                                        </ui-select>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group" ng-show="manufacturNotFound && object.Manufactur.IsResident == true">
                                                                    По Вашему запросу ничего не найдено!
                                                                </div>
                                                                <div class="form-group" ng-show="manufacturNotFound">
                                                                    <button type="button" class="btn btn-sm btn-success" ng-click="addManufactur('Manufactur');" ng-disabled="addManufacturDisabled">Добавить</button>
                                                                </div>


                                                                <div class="form-group">
                                                                    <h4>Производитель</h4>
                                                                    <label>Организационная форма</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <ui-select ng-model="object.Manufactur.OrganizationFormId" theme="bootstrap" ui-select-selected name="organizationForm" ng-disabled="showContactInformationManufactur" @*ng-change="editDeclarant();"*@>
                                                                            <ui-select-match>{{$select.selected.Name}}</ui-select-match>
                                                                            <ui-select-choices repeat="item.Id as item in OpfType | filter: $select.search">
                                                                                <div ng-bind-html="item.Name| highlight: $select.search"></div>
                                                                            </ui-select-choices>
                                                                        </ui-select>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Наименование на государственном языке *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="manufacturNameKz" ng-model="object.Manufactur.NameKz" placeholder="Введите значение" class="form-control edit-control" type="text" required ui-select-selected name="manufacturNameKz" ng-disabled="showContactInformationManufactur">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Наименование на русском языке *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="manufacturNameRu" ng-model="object.Manufactur.NameRu" placeholder="Введите значение" class="form-control edit-control" type="text" required ui-select-selected name="manufacturNameRu" ng-disabled="showContactInformationManufactur">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Наименование на английском языке</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="manufacturNameEn" ng-model="object.Manufactur.NameEn" placeholder="Введите значение" class="form-control edit-control" type="text" ui-select-selected name="manufacturNameEn" ng-disabled="showContactInformationManufactur">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Страна</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <ui-select ng-model="object.Manufactur.CountryId" theme="bootstrap" ui-select-selected name="manufacturCountryId" ng-disabled="showContactInformationManufactur" ng-change="editDeclarant();">
                                                                            <ui-select-match>{{$select.selected.Name}}</ui-select-match>
                                                                            <ui-select-choices repeat="item.Id as item in Country | filter: $select.search">
                                                                                <div ng-bind-html="item.Name| highlight: $select.search"></div>
                                                                            </ui-select-choices>
                                                                        </ui-select>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <h4>Адрес</h4>
                                                                    <label>Юридический адрес * </label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="manufacturAddressLegalRu" ng-model="object.Manufactur.Contact.AddressLegalRu" placeholder="Введите значение" class="form-control edit-control" type="text" required ui-select-selected name="manufacturAddressLegalRu" ng-disabled="showContactInformationManufactur">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Фактический адрес * </label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="manufacturAddressFact" ng-model="object.Manufactur.Contact.AddressFact" placeholder="Введите значение" class="form-control edit-control" type="text" required ui-select-selected name="manufacturAddressFact" ng-disabled="showContactInformationManufactur">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Номер телефона * </label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="manufacturPhone" ng-model="object.Manufactur.Contact.Phone" class="form-control edit-control" type="text" ng-disabled="showContactInformationManufactur" ui-mask="+7 (999) 999-99-99" ui-select-selected name="manufacturPhone" required ng-blur="validatePhone();" ng-model-options="{ allowInvalid: true}">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Адрес электронной почты * </label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="manufacturEmail" ng-model="object.Manufactur.Contact.Email" placeholder="example@mail.ru" class="form-control edit-control" type="text" ng-disabled="showContactInformationManufactur" required ui-select-selected name="manufacturEmail" ng-pattern="emailPattern">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-6 b-l">
                                                                <div class="form-group">
                                                                    <h4>Подписывающее лицо</h4>
                                                                    <label>Фамилия первого руководителя *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="manufacturBossLastName" ng-model="object.Manufactur.Contact.BossLastName" placeholder="Введите значение" class="form-control edit-control" type="text" ng-disabled="showContactInformationManufactur" required ui-select-selected>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Имя первого руководителя *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="manufacturBossFirstName" ng-model="object.Manufactur.Contact.BossFirstName" placeholder="Введите значение" class="form-control edit-control" type="text" ng-disabled="showContactInformationManufactur" required ui-select-selected>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Отчество первого руководителя</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="manufacturBossMiddleName" ng-model="object.Manufactur.Contact.BossMiddleName" placeholder="Введите значение" class="form-control edit-control" type="text" ng-disabled="showContactInformationManufactur" ui-select-selected>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Должность первого руководителя на русском языке *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="manufacturBossPosition" ng-model="object.Manufactur.Contact.BossPosition" placeholder="Введите значение" class="form-control edit-control" type="text" ng-disabled="showContactInformationManufactur" required ui-select-selected>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Должность первого руководителя на государственном языке *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="manufacturBossPositionKz" ng-model="object.Manufactur.Contact.BossPositionKz" placeholder="Введите значение" class="form-control edit-control" type="text" ng-disabled="showContactInformationManufactur" required ui-select-selected>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <h4>Банковские реквизиты</h4>
                                                                    <label>Наименование банка</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <ui-select ng-model="object.Manufactur.Contact.BankId" theme="bootstrap" ui-select-selected name="BankId" ng-disabled="showContactInformationManufactur" ng-change="changeBank('Manufactur');">
                                                                            <ui-select-match>{{$select.selected.NameRu}}</ui-select-match>
                                                                            <ui-select-choices repeat="item.Id as item in Bank | filter: $select.search">
                                                                                <div ng-bind-html="item.NameRu| highlight: $select.search"></div>
                                                                            </ui-select-choices>
                                                                        </ui-select>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group" ng-show="addManufacturNewBankName">
                                                                    <label>Наименование банка на русском</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="manufacturBankNameRu" ng-model="object.Manufactur.Contact.BankNameRu" placeholder="Введите значение" class="form-control edit-control" type="text">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group" ng-show="addManufacturNewBankName">
                                                                    <label>Наименование банка на казахском</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="manufacturBankNameKz" ng-model="object.Manufactur.Contact.BankNameKz" placeholder="Введите значение" class="form-control edit-control" type="text">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group" ng-show="addManufacturNewBankName">
                                                                    <button type="button" class="btn btn-sm btn-success" ng-click="addNewBank('Manufactur');">Сохранить</button>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Расчетный счет *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="BankAccount" ng-model="object.Manufactur.Contact.BankAccount" placeholder="Введите значение" class="form-control edit-control" type="text" ng-disabled="bankValidManufactur" required ui-select-selected>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Валюта *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <ui-select ng-model="object.Manufactur.Contact.CurrencyId" ui-select-selected name="CurrencyId" required theme="bootstrap" ng-disabled="bankValidManufactur">
                                                                            <ui-select-match>{{$select.selected.Name}}</ui-select-match>
                                                                            <ui-select-choices repeat="item.Id as item in Currency | filter: $select.search">
                                                                                <div ng-bind-html="item.Name| highlight: $select.search"></div>
                                                                            </ui-select-choices>
                                                                        </ui-select>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>SWIFT *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="bankBik" ng-model="object.Manufactur.Contact.BankBik" placeholder="Введите значение" class="form-control edit-control" type="text" ng-disabled="bankValidManufactur" required ui-select-selected>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div id="tab-2" class="tab-pane">
                                                    <div class="panel-body">
                                                        <div class="row">
                                                            <div class="col-lg-6 b-r">
                                                                <div class="form-group">
                                                                    <div class="checkbox">
                                                                        <label><input type="checkbox" ng-model="object.DeclarantIsManufactur" ng-change="isManufacturer();" value="">Является производителем</label>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <div class="radio-inline">
                                                                        <label><input type="radio" name="declarantisresident" ng-model="object.Declarant.IsResident" ng-value="true" ng-disabled="object.DeclarantIsManufactur" ng-change="residentChange('Declarant');">Резидент РК</label>
                                                                    </div>
                                                                    <div class="radio-inline">
                                                                        <label><input type="radio" name="declarantisresident" ng-model="object.Declarant.IsResident" ng-value="false" ng-disabled="object.DeclarantIsManufactur" ng-change="residentChange('Declarant');">Нерезидент РК</label>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group" ng-show="object.Declarant.IsResident == true">
                                                                    <label>ИИН/БИН *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input maxlength="12" id="binDeclarant" ng-model="object.Declarant.Bin" class="form-control edit-control" type="text" ui-select-selected name="bin" ng-required="object.Declarant.IsResident == true" ng-disabled="iinSearchActiveDeclarant" ng-pattern="iinPattern" ng-minlength="iinMinLength" ng-maxlength="iinMaxLength" ui-mask="999999999999" ui-mask-placeholder ui-mask-placeholder-char="_">
                                                                    </div>
                                                                    <button type="button" class="btn btn-sm btn-success" ng-disabled="object.Declarant.Bin == null || object.Declarant.Bin.length !== 12 || iinSearchActiveDeclarant" ng-click="findDeclarant('Declarant');">Найти</button>
                                                                    <button type="button" class="btn btn-sm btn-success" ng-click="cancelFind('Declarant');" ng-disabled="!iinSearchActiveDeclarant">Отмена</button>
                                                                </div>

                                                                <div class="form-group" ng-show="object.Declarant.IsResident == false">
                                                                    <label>Страна</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <ui-select ng-model="object.Declarant.CountryId" theme="bootstrap" ui-select-selected ng-required="object.Declarant.IsResident == false" ng-change="nonResidentCountryChange('Declarant');">
                                                                            <ui-select-match>{{$select.selected.Name}}</ui-select-match>
                                                                            <ui-select-choices repeat="item.Id as item in Country | filter: $select.search">
                                                                                <div ng-bind-html="item.Name| highlight: $select.search"></div>
                                                                            </ui-select-choices>
                                                                        </ui-select>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group" ng-show="object.Declarant.IsResident == false">
                                                                    <label>Наименование на русском языке *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <ui-select ng-model="object.Declarant.NameNonResident" theme="bootstrap" ui-select-selected ng-required="object.Declarant.IsResident == false" ng-disabled="object.Declarant.Country == null" ng-change="nameNonResidentChange('Declarant');">
                                                                            <ui-select-match>{{$select.selected.Name}}</ui-select-match>
                                                                            <ui-select-choices repeat="item.Id as item in NamesNonResidents | filter: $select.search">
                                                                                <div ng-bind-html="item.Name| highlight: $select.search"></div>
                                                                            </ui-select-choices>
                                                                        </ui-select>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group" ng-show="declarantNotFound && object.Declarant.IsResident == true">
                                                                    По Вашему запросу ничего не найдено!
                                                                </div>
                                                                <div class="form-group" ng-show="declarantNotFound">
                                                                    <button type="button" class="btn btn-sm btn-success" ng-click="addManufactur('Declarant');" ng-disabled="addDeclarantDisabled">Добавить</button>
                                                                </div>

                                                                <h4>Заявитель</h4>
                                                                <div class="form-group">
                                                                    <label>Организационная форма</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <ui-select ng-model="object.Declarant.OrganizationFormId" theme="bootstrap" ui-select-selected name="organizationForm" ng-disabled="showContactInformationDeclarant" ng-change="editDeclarant('Declarant');">
                                                                            <ui-select-match>{{$select.selected.Name}}</ui-select-match>
                                                                            <ui-select-choices repeat="item.Id as item in OpfType | filter: $select.search">
                                                                                <div ng-bind-html="item.Name| highlight: $select.search"></div>
                                                                            </ui-select-choices>
                                                                        </ui-select>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Наименование на государственном языке *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="declarantNameKz" ng-model="object.Declarant.NameKz" placeholder="Введите значение" class="form-control edit-control" type="text" required ng-disabled="showContactInformationDeclarant" ui-select-selected name="declarantNameKz">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Наименование на русском языке *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="declarantNameRu" ng-model="object.Declarant.NameRu" placeholder="Введите значение" class="form-control edit-control" type="text" required ng-disabled="showContactInformationDeclarant" ui-select-selected name="declarantNameRu">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Наименование на английском языке</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="declarantNameEn" ng-model="object.Declarant.NameEn" placeholder="Введите значение" class="form-control edit-control" type="text" ng-disabled="showContactInformationDeclarant" ui-select-selected name="declarantNameEn">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Страна</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <ui-select ng-model="object.Declarant.CountryId" theme="bootstrap" ui-select-selected name="declarantCountryId" ng-disabled="showContactInformationDeclarant" @*ng-change="editDeclarant();"*@>
                                                                            <ui-select-match>{{$select.selected.Name}}</ui-select-match>
                                                                            <ui-select-choices repeat="item.Id as item in Country | filter: $select.search">
                                                                                <div ng-bind-html="item.Name| highlight: $select.search"></div>
                                                                            </ui-select-choices>
                                                                        </ui-select>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <h4>Адрес</h4>
                                                                    <label>Юридический адрес * </label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="DeclarantAddressLegalRu" ng-model="object.Declarant.Contact.AddressLegalRu" placeholder="Введите значение" class="form-control edit-control" type="text" required ui-select-selected name="AddressLegalRu" ng-disabled="showContactInformationDeclarant">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Фактический адрес * </label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="AddressFact" ng-model="object.Declarant.Contact.AddressFact" placeholder="Введите значение" class="form-control edit-control" type="text" required ui-select-selected name="AddressFact" ng-disabled="showContactInformationDeclarant">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Номер телефона * </label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="Phone" ng-model="object.Declarant.Contact.Phone" ui-mask="+7 (999) 999-99-99" class="form-control edit-control" type="text" required ui-select-selected name="Phone" ng-disabled="showContactInformationDeclarant" required ng-blur="validatePhone();" ng-model-options="{ allowInvalid: true}">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Адрес электронной почты * </label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="Email" ng-model="object.Declarant.Contact.Email" placeholder="example@mail.ru" class="form-control edit-control" type="text" required ui-select-selected name="Email" ng-disabled="showContactInformationDeclarant" ng-pattern="emailPattern">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-6 b-l">
                                                                <div class="form-group">
                                                                    <h4>Подписывающее лицо</h4>
                                                                    <label>Фамилия первого руководителя *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="BossLastName" ng-model="object.Declarant.Contact.BossLastName" placeholder="Введите значение" class="form-control edit-control" type="text" ng-disabled="showContactInformationDeclarant" required ui-select-selected>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Имя первого руководителя *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="BossFirstName" ng-model="object.Declarant.Contact.BossFirstName" placeholder="Введите значение" class="form-control edit-control" type="text" ng-disabled="showContactInformationDeclarant" required ui-select-selected>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Отчество первого руководителя</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="BossMiddleName" ng-model="object.Declarant.Contact.BossMiddleName" placeholder="Введите значение" class="form-control edit-control" type="text" ng-disabled="showContactInformationDeclarant" ui-select-selected>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Должность первого руководителя на русском языке *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="BossPosition" ng-model="object.Declarant.Contact.BossPosition" placeholder="Введите значение" class="form-control edit-control" type="text" ng-disabled="showContactInformationDeclarant" required ui-select-selected>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Должность первого руководителя на государственном языке *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="BossPositionKz" ng-model="object.Declarant.Contact.BossPositionKz" placeholder="Введите значение" class="form-control edit-control" type="text" ng-disabled="showContactInformationDeclarant" required ui-select-selected>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <h4>Банковские реквизиты</h4>
                                                                    <label>Название банка</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <ui-select ng-model="object.Declarant.Contact.BankId" theme="bootstrap" ui-select-selected name="BankId" ng-disabled="showContactInformationDeclarant" ng-change="changeBank('Declarant');">
                                                                            <ui-select-match>{{$select.selected.NameRu}}</ui-select-match>
                                                                            <ui-select-choices repeat="item.Id as item in Bank | filter: $select.search">
                                                                                <div ng-bind-html="item.NameRu| highlight: $select.search"></div>
                                                                            </ui-select-choices>
                                                                        </ui-select>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group" ng-show="addDeclarantNewBankName">
                                                                    <label>Наименование банка на русском</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="declarantBankNameRu" ng-model="object.Declarant.Contact.BankNameRu" placeholder="Введите значение" class="form-control edit-control" type="text">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group" ng-show="addDeclarantNewBankName">
                                                                    <label>Наименование банка на казахском</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="declarantBankNameKz" ng-model="object.Declarant.Contact.BankNameKz" placeholder="Введите значение" class="form-control edit-control" type="text">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group" ng-show="addDeclarantNewBankName">
                                                                    <button type="button" class="btn btn-sm btn-success" ng-click="addNewBank('Declarant');">Сохранить</button>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Расчетный счет *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="BankAccount" ng-model="object.Declarant.Contact.BankAccount" placeholder="Введите значение" class="form-control edit-control" type="text" ng-disabled="bankValidDeclarant" @*ng-disabled="showContactInformationDeclarant"*@ required ui-select-selected>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Валюта *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <ui-select ng-model="object.Declarant.Contact.CurrencyId" ui-select-selected name="CurrencyId" required ng-disabled="bankValidDeclarant || showContactInformationDeclarant" required theme="bootstrap">
                                                                            <ui-select-match>{{$select.selected.Name}}</ui-select-match>
                                                                            <ui-select-choices repeat="item.Id as item in Currency | filter: $select.search">
                                                                                <div ng-bind-html="item.Name| highlight: $select.search"></div>
                                                                            </ui-select-choices>
                                                                        </ui-select>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>SWIFT *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="declarantBankBik" ng-model="object.Declarant.Contact.BankBik" placeholder="Введите значение" class="form-control edit-control" type="text" ng-disabled="bankValidDeclarant" @*ng-disabled="showContactInformationDeclarant"*@ required ui-select-selected>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-lg-12">
                                                                <h4>Действующее на основании</h4>
                                                            </div>

                                                            <div class="col-lg-12">
                                                                <div class="row">
                                                                    <div class="col-lg-6">
                                                                        <div class="form-group">
                                                                            <label>Доверенность *</label>
                                                                            <div ng-class="{'input-group': showComments}">
                                                                                <ui-select ng-model="object.HasProxy" required ui-select-selected theme="bootstrap" name="SignDocType">
                                                                                    <ui-select-match>{{$select.selected.Name}}</ui-select-match>
                                                                                    <ui-select-choices repeat="item.Id as item in IsBossDocTypes | filter: $select.search">
                                                                                        <div ng-bind-html="item.Name| highlight: $select.search"></div>
                                                                                    </ui-select-choices>
                                                                                </ui-select>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-6">
                                                                        <div class="form-group">
                                                                            <label>Тип</label>
                                                                            <div ng-class="{'input-group': showComments}">
                                                                                <ui-select ng-model="object.DocumentType" ui-select-selected theme="bootstrap" name="SignDocType">
                                                                                    <ui-select-match>{{$select.selected.Name}}</ui-select-match>
                                                                                    <ui-select-choices repeat="item.Id as item in BossDocTypes | filter: $select.search">
                                                                                        <div ng-bind-html="item.Name| highlight: $select.search"></div>
                                                                                    </ui-select-choices>
                                                                                </ui-select>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-12">
                                                                <div class="row">
                                                                    <div class="col-lg-2">
                                                                        <div class="form-group">
                                                                            <div class="checkbox">
                                                                                <label><input type="checkbox" value="" ng-model="object.Declarant.Contact.IsHasBossDocNumber" ng-change="isNotNumber();">Без номера</label>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-2">
                                                                        <div class="form-group">
                                                                            <label>№ документа *</label>
                                                                            <div ng-class="{'input-group': showComments}">
                                                                                <input id="bossDocNumber" ng-model="object.Declarant.Contact.BossDocNumber" placeholder="Введите значение" ng-disabled="object.Declarant.Contact.IsHasBossDocNumber" class="form-control edit-control" type="text" required ui-select-selected>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-2">
                                                                        <div class="form-group">
                                                                            <div class="checkbox">
                                                                                <label><input type="checkbox" value="" ng-model="object.Declarant.Contact.BossDocUnlimited" ng-change="isUnlimited();">Бессрочный</label>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-3">
                                                                        <div class="form-group">
                                                                            <label>Дата начала действия *</label>
                                                                            <div class="input-group date">
                                                                                <input id="BossDocCreatedDate" ng-model="object.Declarant.Contact.BossDocCreatedDate" class="form-control edit-control" placeholder="ДД.ММ.ГГГГ" ui-select-selected required date-time auto-close="true" view="date" min-view="date" format="DD.MM.YYYY">
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-3">
                                                                        <div class="form-group">
                                                                            <label>Дата окончания действия *</label>
                                                                            <div class="input-group date">
                                                                                <input id="BossDocEndDate" ng-model="object.Declarant.Contact.BossDocEndDate" ng-disabled="object.Declarant.Contact.BossDocUnlimited" class="form-control edit-control" placeholder="ДД.ММ.ГГГГ" ui-select-selected ng-required="object.Declarant.Contact.BossDocUnlimited == false" date-time auto-close="true" view="date" min-view="date" format="DD.MM.YYYY">
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>





                                                <div id="tab-3" class="tab-pane">
                                                    <div class="panel-body">
                                                        <div class="row">
                                                            <div class="col-lg-6 b-r">

                                                                <div class="form-group">
                                                                    <label>Плательщик</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <ui-select ng-model="object.ChoosePayer" ui-select-selected theme="bootstrap" name="Payer.ChoosePayer" ng-change="editPayer();">
                                                                            <ui-select-match>{{$select.selected.Name}}</ui-select-match>
                                                                            <ui-select-choices repeat="item.Id as item in ChoosePayers | filter: $select.search">
                                                                                <div ng-bind-html="item.Name| highlight: $select.search"></div>
                                                                            </ui-select-choices>
                                                                        </ui-select>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <div class="radio-inline">
                                                                        <label><input type="radio" name="payerisresident" ng-model="object.Payer.IsResident" ng-value="true" ng-disabled="showFindInformationPayer" ng-change="residentChange('Payer');">Резидент РК</label>
                                                                    </div>
                                                                    <div class="radio-inline">
                                                                        <label><input type="radio" name="payerisresident" ng-model="object.Payer.IsResident" ng-value="false" ng-disabled="showFindInformationPayer" ng-change="residentChange('Payer');">Нерезидент РК</label>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group" ng-show="object.Payer.IsResident == true">
                                                                    <label>ИИН/БИН *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input maxlength="12" id="binDeclarant" ng-model="object.Payer.Bin" class="form-control edit-control" type="text" ui-select-selected name="bin" ng-required="object.Payer.IsResident == true" ng-disabled="showContactInformationPayerPayer" ng-pattern="iinPattern" ng-minlength="iinMinLength" ng-maxlength="iinMaxLength" ui-mask="999999999999" ui-mask-placeholder ui-mask-placeholder-char="_">
                                                                    </div>
                                                                    <button type="button" class="btn btn-sm btn-success" ng-disabled="object.Payer.Bin == null || object.Payer.Bin.length !== 12 || iinSearchActivePayer" ng-click="findDeclarant('Payer');">Найти</button>
                                                                    <button type="button" class="btn btn-sm btn-success" ng-click="cancelFind('Payer');" ng-disabled="!iinSearchActivePayer">Отмена</button>
                                                                </div>

                                                                <div class="form-group" ng-show="object.Payer.IsResident == false">
                                                                    <label>Страна *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <ui-select ng-model="object.Payer.CountryId" theme="bootstrap" ui-select-selected ng-required="object.Payer.IsResident == false" ng-change="nonResidentCountryChange('Payer');">
                                                                            <ui-select-match>{{$select.selected.Name}}</ui-select-match>
                                                                            <ui-select-choices repeat="item.Id as item in Country | filter: $select.search">
                                                                                <div ng-bind-html="item.Name| highlight: $select.search"></div>
                                                                            </ui-select-choices>
                                                                        </ui-select>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group" ng-show="object.Payer.IsResident == false">
                                                                    <label>Наименование на русском языке *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <ui-select ng-model="object.Payer.NameNonResident" theme="bootstrap" ui-select-selected ng-required="object.Payer.IsResident == false" ng-disabled="object.Payer.Country == null" ng-change="nameNonResidentChange('Payer');">
                                                                            <ui-select-match>{{$select.selected.Name}}</ui-select-match>
                                                                            <ui-select-choices repeat="item.Id as item in NamesNonResidents | filter: $select.search">
                                                                                <div ng-bind-html="item.Name| highlight: $select.search"></div>
                                                                            </ui-select-choices>
                                                                        </ui-select>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group" ng-show="payerNotFound && object.Payer.IsResident == true">
                                                                    По Вашему запросу ничего не найдено!
                                                                </div>
                                                                <div class="form-group" ng-show="payerNotFound">
                                                                    <button type="button" class="btn btn-sm btn-success" ng-click="addManufactur('Payer');" ng-disabled="addPayerDisabled">Добавить</button>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label>Организационная форма</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <ui-select ng-model="object.Payer.OrganizationFormId" theme="bootstrap" ui-select-selected name="organizationForm" ng-disabled="showContactInformationPayer" @*ng-change="editDeclarant();"*@>
                                                                            <ui-select-match>{{$select.selected.Name}}</ui-select-match>
                                                                            <ui-select-choices repeat="item.Id as item in OpfType | filter: $select.search">
                                                                                <div ng-bind-html="item.Name| highlight: $select.search"></div>
                                                                            </ui-select-choices>
                                                                        </ui-select>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Наименование на русском языке *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="payerNameRu" ng-model="object.Payer.NameRu" placeholder="Введите значение" class="form-control edit-control" type="text" ng-disabled="showContactInformationPayer" ui-select-selected name="payerNameRu">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Страна</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <ui-select ng-model="object.Payer.CountryId" theme="bootstrap" ui-select-selected ng-required="Payer.IsResident == false" ng-disabled="showContactInformationPayer" ng-change="nonResidentCountryChange('Payer');">
                                                                            <ui-select-match>{{$select.selected.Name}}</ui-select-match>
                                                                            <ui-select-choices repeat="item.Id as item in Country | filter: $select.search">
                                                                                <div ng-bind-html="item.Name| highlight: $select.search"></div>
                                                                            </ui-select-choices>
                                                                        </ui-select>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Юридический адрес</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="PayerAddressLegalRu" ng-model="object.Payer.Contact.AddressLegalRu" placeholder="Введите значение" class="form-control edit-control" type="text" ng-disabled="showContactInformationPayer" ui-select-selected name="AddressLegalRu">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-6 b-l">

                                                                <div class="form-group">
                                                                    <label>Название банка</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <ui-select ng-model="object.Payer.Contact.BankId" theme="bootstrap" ui-select-selected name="BankId" ng-disabled="showContactInformationPayer" ng-change="changeBank('Payer');">
                                                                            <ui-select-match>{{$select.selected.NameRu}}</ui-select-match>
                                                                            <ui-select-choices repeat="item.Id as item in Bank | filter: $select.search">
                                                                                <div ng-bind-html="item.NameRu| highlight: $select.search"></div>
                                                                            </ui-select-choices>
                                                                        </ui-select>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group" ng-show="addPayerNewBankName">
                                                                    <label>Наименование банка на русском</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="payerBankNameRu" ng-model="object.Payer.Contact.BankNameRu" placeholder="Введите значение" class="form-control edit-control" type="text">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group" ng-show="addPayerNewBankName">
                                                                    <label>Наименование банка на казахском</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="payerBankNameKz" ng-model="object.Payer.Contact.BankNameKz" placeholder="Введите значение" class="form-control edit-control" type="text">
                                                                    </div>
                                                                </div>
                                                                <div class="form-group" ng-show="addPayerNewBankName">
                                                                    <button type="button" class="btn btn-sm btn-success" ng-click="addNewBank('Payer');">Сохранить</button>
                                                                </div>

                                                                <div class="form-group" ng-show="object.Payer.IsResident == true">
                                                                    <label>ИИК</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="BankAccount1" ng-model="object.Payer.Contact.BankIik" placeholder="Введите значение" class="form-control edit-control" type="text" ng-disabled="showContactInformationPayer" required ui-select-selected>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label>Валюта *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <ui-select ng-model="object.Payer.Contact.CurrencyId" ui-select-selected name="CurrencyId" required theme="bootstrap" ng-disabled="showContactInformationPayer">
                                                                            <ui-select-match>{{$select.selected.Name}}</ui-select-match>
                                                                            <ui-select-choices repeat="item.Id as item in Currency | filter: $select.search">
                                                                                <div ng-bind-html="item.Name| highlight: $select.search"></div>
                                                                            </ui-select-choices>
                                                                        </ui-select>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group" ng-show="object.Payer.IsResident == true">
                                                                    <label>БИН</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="BankAccount2" ng-model="object.Payer.Bin" placeholder="Введите значение" class="form-control edit-control" type="text" ng-disabled="true" required ui-select-selected>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group" ng-show="object.Payer.IsResident != null">
                                                                    <label ng-show="object.Payer.IsResident == true">БИК</label>
                                                                    <label ng-show="object.Payer.IsResident == false">SWIFT *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="SWIFT3" ng-model="object.Payer.Contact.BankBik" placeholder="Введите значение" class="form-control edit-control" type="text" ng-disabled="showContactInformationPayer" required ui-select-selected>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group" ng-show="object.Payer.IsResident == true">
                                                                    <label>ИИН</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="BankAccount3" ng-model="object.Payer.Iin" placeholder="Введите значение" class="form-control edit-control" type="text" ng-disabled="showContactInformationPayer" required ui-select-selected>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label>Расчетный счет *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="BankAccount4" ng-model="object.Payer.Contact.BankAccount" placeholder="Введите значение" class="form-control edit-control" type="text" ng-disabled="showContactInformationPayer" required ui-select-selected>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>



                                                <div id="tab-4" class="tab-pane">
                                                    <div class="panel-body">
                                                        <div class="row">
                                                            <div class="col-lg-6 b-r">

                                                                <div class="form-group">
                                                                    <label>Тип заявки</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <ui-select ng-model="Calulator.ServiceType" theme="bootstrap" ui-select-selected ng-change="editServiceType();">
                                                                            <ui-select-match>{{$select.selected.NameRu}}</ui-select-match>
                                                                            <ui-select-choices repeat="item.Id as item in ServiceTypes | filter: $select.search">
                                                                                <div ng-bind-html="item.NameRu| highlight: $select.search"></div>
                                                                            </ui-select-choices>
                                                                        </ui-select>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group" ng-show="Calulator.showChangeType">
                                                                    <label>Тип изменения</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <ui-select ng-model="Calulator.ChangeType" theme="bootstrap" ui-select-selected ng-change="editChangeType();">
                                                                            <ui-select-match>{{$select.selected.NameRu}}</ui-select-match>
                                                                            <ui-select-choices repeat="item.Id as item in ChangeTypes | filter: $select.search">
                                                                                <div ng-bind-html="item.NameRu| highlight: $select.search"></div>
                                                                            </ui-select-choices>
                                                                        </ui-select>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label>Тип услуги</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <ui-select ng-model="Calulator.ServiceTypeName" theme="bootstrap" ui-select-selected ng-disabled="showServiceTypeName" ng-change="editServiceTypeName();">
                                                                            <ui-select-match>{{$select.selected.NameRu}}</ui-select-match>
                                                                            <ui-select-choices repeat="item.Id as item in ServiceTypeNames | filter: $select.search">
                                                                                <div ng-bind-html="item.NameRu| highlight: $select.search"></div>
                                                                            </ui-select-choices>
                                                                        </ui-select>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Дополнительные услуги</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <ui-select ng-model="Calulator.ServiceTypeNameModif" theme="bootstrap" ui-select-selected ng-disabled="showServiceTypeNameModif" ng-change="editServiceTypeNameModif();">
                                                                            @*ng-change="editPriceType();"*@
                                                                            <ui-select-match>{{$select.selected.NameRu}}</ui-select-match>
                                                                            <ui-select-choices repeat="item.Id as item in ServiceTypeNameModifs | filter: $select.search">
                                                                                <div ng-bind-html="item.NameRu| highlight: $select.search"></div>
                                                                            </ui-select-choices>
                                                                        </ui-select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-6 b-l">
                                                                <div class="form-group">
                                                                    <label>Наименование ИМН/МТ на русском языке *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="NameIMN" ng-model="object.MedicalDeviceName" placeholder="Введите значение" class="form-control edit-control" type="text" required ui-select-selected>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Наименование ИМН/МТ на государственном языке *</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="NameIMN" ng-model="object.MedicalDeviceNameKz" placeholder="Введите значение" class="form-control edit-control" type="text" required ui-select-selected>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label>Количетсво</label>
                                                                    <div ng-class="{'input-group': showComments}">
                                                                        <input id="Count" ng-model="Calulator.Count" placeholder="Введите значение" ng-disabled="showCalculatorForm" class="form-control edit-control" type="text" required ui-select-selected>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <div class="radio-inline">
                                                                        <label><input type="radio" name="isimport" ng-model="Calulator.IsImport" ng-disabled="showRadioIsImport" ng-value="false" ng-change="calulatorChange(false);">Стоимость отечественного производителя</label>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <div class="radio-inline">
                                                                        <label><input type="radio" name="isimport" ng-model="Calulator.IsImport" ng-disabled="showRadioIsImport" ng-value="true" ng-change="calulatorChange(true);">Стоимость зарубежного производителя</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-12">
                                                                <div class="row">
                                                                    <div class="col-lg-12">
                                                                        <div class="form-group">
                                                                            <button type="button" class="btn btn-sm btn-success" ng-disabled="Calulator.ServiceType == null || Calulator.ServiceTypeName == null || Calulator.ServiceTypeNameModif == null || Calulator.Count == null || showRadioIsImport || object.ServicePrices.length > 0" ng-click="calculation();">Узнать цену</button>
                                                                            <button type="button" class="btn btn-sm btn-success" ng-click="clearCalculation();">Очистить</button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-lg-12">
                                                                <div class="form-group">
                                                                    <table class="table table-striped table-bordered dataTable">
                                                                        <thead>
                                                                            <tr>
                                                                                <th>№</th>
                                                                                <th>Наименование работ по Прейскуранту</th>
                                                                                <th>Цена в тенге, без НДС</th>
                                                                                <th>Количество</th>
                                                                                <th>Всего</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr ng-repeat="ServicePrice in object.ServicePrices">
                                                                                <td>{{ $index + 1 }}</td>
                                                                                <td>{{ ServicePrice.ServiceTypeNameRu }}</td>
                                                                                <td>{{ ServicePrice.Price }}</td>
                                                                                <td>{{ ServicePrice.Count }}</td>
                                                                                <td>{{ ServicePrice.TotalPrice }}</td>
                                                                            </tr>
                                                                        </tbody>
                                                                        <tfoot>
                                                                            <tr>
                                                                                <th colspan="2" style="text-align:right">Итого:</th>
                                                                                <th>{{ totalPrice() }}</th>
                                                                                <th>{{ totalCount() }}</th>
                                                                                <th>{{ totalTotalPrice() }}</th>
                                                                            </tr>
                                                                        </tfoot>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div id="tab-5" class="tab-pane">
                                                    <div class="panel-body">
                                                        <h3 class="m-t-none m-b">Вложения</h3>
                                                        <div ng-show="object.ServicePrices.length == 0">
                                                            <p class="text-bold">Для загрузки вложений заполните вкладку "Стоимость работ"</p>
                                                        </div>
                                                        <div ng-show="object.ServicePrices.length > 0">
                                                            <p class="text-bold" ng-if="ChangeTypeCode != null && object.ServicePrices.length > 0 && showAttach">Прикрепите необходимые файлы ниже</p>
                                                            <attach-edit ng-if="ChangeTypeCode != null && object.ServicePrices.length > 0 && showAttach" metadata="true" showcomment="true" history="true" url="/EMPContract/GetAttachListWithCodeEdit?excludeCodes={{ChangeTypeCode}}" type="@EmpCodeConsts.ATTACH_CONTRACT_FILE" path="@ModelGuid" />
                                                        </div>
                                                        <div ng-show="object.ServicePrices.length > 0">
                                                            <p class="text-bold" ng-if="DegreeRiskCode != null && object.ServicePrices.length > 0 && showAttach">Прикрепите необходимые файлы ниже</p>
                                                            <attach-edit ng-if="DegreeRiskCode != null && object.ServicePrices.length > 0 && showAttach" metadata="true" showcomment="true" history="true" url="/EMPContract/GetAttachListEdit?excludeCodes={{DegreeRiskCode}}" type="@EmpCodeConsts.ATTACH_CONTRACT_DEGREERISK_FILE" path="@ModelGuid" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>

