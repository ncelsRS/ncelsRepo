@using PW.Ncels.Database.Constants
@model PW.Ncels.Database.DataModel.OBK_ActReception

<script src="~/Scripts/js/custom/subform-comment.js"></script>

<input type="hidden" value="@Model.Id" id="ActReceptionId">

<div class="panel-body">
    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="form-group" style="margin-bottom: 5px">
                        <div class="col-lg-6">
                            <label id="Number-label">№ Акта приема-передачи*</label>
                            <div class="input-group" id="typeIds">
                                @Html.TextBoxFor(model => model.Number, new { @class = "form-control edit-control act-control", placeholder = "Введите значение" })
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <label id="ActDate-label">Дата акта*</label>
                            <div class="input-group">
                                @Html.TextBoxFor(model => model.ActDate, "{0:dd.MM.yyyy}",
                               new { @class = "form-control edit-control act-control date-control", placeholder = "Введите значение" })
                                <span class="input-group-addon">
                                    <a class="OBKcommentDialog" href="#">
                                        <i class="glyphicon glyphicon-info-sign"></i>
                                    </a>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-6">
            <label id="Address-label">Адрес и места отбора*</label>
            <div class="input-group">
                @Html.TextBoxFor(model => model.Address, new { @class = "form-control edit-control act-control ", placeholder = "Введите значение" })
                <span class="input-group-addon">
                    <a class="OBKcommentDialog" href="#">
                        <i class="glyphicon glyphicon-info-sign"></i>
                    </a>
                </span>
            </div>
        </div>
        <div class="col-lg-6">
            <label id="Worker-label">Отбор проб призвел*</label>
            <div class="input-group">
                @Html.TextBoxFor(model => model.Worker, new { @class = "form-control edit-control act-control ", placeholder = "Введите значение" })
                <span class="input-group-addon">
                    <a class="OBKcommentDialog" href="#">
                        <i class="glyphicon glyphicon-info-sign"></i>
                    </a>
                </span>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-6">
            <label id="ProductSamplesId-label">Образцы предьявленной продукции отобраны соответсвии с*</label>
            <div class="input-group">
                @Html.DropDownList("ProductSamplesId", (IEnumerable<SelectListItem>)(ViewData["ProductSampleList"]),
                                        String.Empty,
                                        new
                                        {
                                            @class = "form-control edit-control act-table-cont act-control"
                                        })
                <span class="input-group-addon">
                    <a class="OBKcommentDialog" href="#">
                        <i class="glyphicon glyphicon-info-sign"></i>
                    </a>
                </span>
            </div>
        </div>
        <div class="col-lg-6">
            <label id="Producer-label">Производитель*:</label>
            <div class="input-group">
                @Html.TextBoxFor(model => model.Producer, new { @class = "form-control edit-control act-control ", placeholder = "Введите значение" })
                <span class="input-group-addon">
                    <a class="OBKcommentDialog" href="#">
                        <i class="glyphicon glyphicon-info-sign"></i>
                    </a>
                </span>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-6">
            <label id="Provider-label">Поставщик*:</label>
            <div class="input-group">
                @Html.TextBoxFor(model => model.Provider, new { @class = "form-control edit-control act-control ", placeholder = "Введите значение" })
                <span class="input-group-addon">
                    <a class="OBKcommentDialog" href="#">
                        <i class="glyphicon glyphicon-info-sign"></i>
                    </a>
                </span>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12">
            <label id="samples-label">Образцы</label>
            <div class="panel panel-default">
                <div class="panel-body">
                    <table id="samples" dt-options="dtOptions" dt-columns="dtColumns" class="table table-striped table-bordered table-hover dataTable"></table>
                </div>
            </div>
        </div>
    </div>
</div>

<script>

    if ('@ViewData["ProducerNull"]' == "True"){
         UpdateModel("act", null, null, "Producer", $("#Producer").val(), "string", "Producer", '@Model.Id');
    }

    if('@ViewData["ActDateNull"]' == "True"){
        UpdateModel("act", null, null, "ActDate", $("#ActDate").val(), "string", "ActDate", '@Model.Id');
    }

    if('@ViewData["DeclarerNull"]' == "True"){
        UpdateModel("act", null, null, "ActDate", $("#ActDate").val(), "string", "ActDate", '@Model.Id');
    }

</script>