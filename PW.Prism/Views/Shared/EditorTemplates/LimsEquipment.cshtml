@using PW.Ncels.Database.DataModel
@model PW.Ncels.Database.DataModel.LimsEquipment

<table style="width:100%">
    <tr style="vertical-align: top;">
        <td style="vertical-align: top;">
            <fieldset>
                <legend></legend>
                <dl class="pwEditRef">
                    <dt>
                        @Html.DisplayNameFor(model => model.Name)
                    </dt>
                    <dd>
                        @Html.TextBoxFor(model => model.Name)
                    </dd>
                    <br />

                    <dt>
                        @Html.DisplayNameFor(model => model.ModelId)
                    </dt>
                    <dd>
                        @(Html.Kendo().ComboBoxFor(p => p.ModelId).ValuePrimitive(true).DataValueField("Id").DataTextField("Name")
                          .DataSource(source => source.Read("GetDictionaryListByCode", "Dictionaries", new { code = Dictionary.DicEquipmentModel.DicCode })))
                    </dd>
                    <br />

                    <dt>
                        @Html.DisplayNameFor(model => model.SerialNumber)
                    </dt>
                    <dd>
                        @Html.TextBoxFor(model => model.SerialNumber)
                    </dd>
                    <br />

                    <dt>
                        @Html.DisplayNameFor(model => model.ProducerId)
                    </dt>
                    <dd>
                        @(Html.Kendo().ComboBoxFor(p => p.ProducerId).ValuePrimitive(true).DataValueField("Id").DataTextField("Name")
                          .DataSource(source => source.Read("GetDictionaryListByCode", "Dictionaries", new { code = Dictionary.DicEqManufacturer.DicCode })))
                    </dd>
                    <br />
                    
                    <dt>
                        @Html.DisplayNameFor(model => model.CountryProductionId)
                    </dt>
                    <dd>
                        @(Html.Kendo().ComboBoxFor(p => p.CountryProductionId).ValuePrimitive(true)
                            .DataValueField("Id").DataTextField("Name")
                          .DataSource(source => source.Read("GetDictionaryListByCode", "Dictionaries", new { code = Dictionary.CountryDic.DicCode })))
                    </dd>
                    <br />
                    
                    <dt>
                        @Html.DisplayNameFor(model => model.InventoryNumber)
                    </dt>
                    <dd>
                        @Html.TextBoxFor(model => model.InventoryNumber)
                    </dd>
                    <br />
                    
                    <dt>
                        @Html.DisplayNameFor(model => model.LaboratoryId)
                    </dt>
                    <dd>
                        @(Html.Kendo().ComboBoxFor(p => p.LaboratoryId).ValuePrimitive(true)
                            .DataValueField("Id").DataTextField("Name")
                          .DataSource(source => source.Read("GetDictionaryListByCode", "Dictionaries", new { code = Dictionary.DicEquipmentLab.DicCode })))
                    </dd>
                    <br />
                    
                    <dt>
                        @Html.DisplayNameFor(model => model.LocationId)
                    </dt>
                    <dd>
                        @(Html.Kendo().ComboBoxFor(p => p.LocationId).ValuePrimitive(true)
                            .DataValueField("Id").DataTextField("Name")
                          .DataSource(source => source.Read("GetDictionaryListByCode", "Dictionaries", new { code = Dictionary.DicEquipmentLocation.DicCode })))
                    </dd>
                    <br />
                    
                    <dt>
                        @Html.DisplayNameFor(model => model.YearInstallation)
                    </dt>
                    <dd>
                        @Html.TextBoxFor(model => model.YearInstallation)
                    </dd>
                    <br />
                    
                    @if (Model.FileLinkData != null)
                    {
                        <dt>
                            Файл
                        </dt>
                            <dd>
                                @(Html.Kendo().Upload().Name("attachContract" + (string)ViewBag.UiId).Multiple(false).HtmlAttributes(new { accept = Model.FileLinkData.AcceptFormats })
                            .Async(ac => ac.AutoUpload(false)
                            .Save("FilePost", "Upload", new
                            {
                                code = Model.FileLinkData.CategoryId,
                                path = Model.FileLinkData.DocumentId,
                                saveMetadata = true
                            })))
                            </dd>
                    }
                    
                </dl>
            </fieldset>
        </td>
        <td style="vertical-align: top;">
            <fieldset>
                <legend></legend>
                <dl class="pwEditRef">
                    <dt>
                        @Html.DisplayNameFor(model => model.EquipmentTypeId)
                    </dt>
                    <dd>
                        @(Html.Kendo().ComboBoxFor(p => p.EquipmentTypeId).ValuePrimitive(true).DataValueField("Id").DataTextField("Name")
                          .DataSource(source => source.Read("GetDictionaryListByCode", "Dictionaries", new { code = Dictionary.DicEquipmentType.DicCode })))
                    </dd>
                    <br />

                    <dt>
                        @Html.DisplayNameFor(model => model.StatusId)
                    </dt>
                    <dd>
                        @(Html.Kendo().ComboBoxFor(p => p.StatusId).ValuePrimitive(true)
                              .DataValueField("Id").DataTextField("Name")
                              .DataSource(source => source.Read("GetDictionaryListByCode", "Dictionaries", new {code = Dictionary.DicEquipmentStatus.DicCode})))
                    </dd>
                    <br/>

                    <dt>
                        @Html.DisplayNameFor(model => model.ResponsiblePersonId)
                    </dt>
                    <dd>
                        @(Html.Kendo().ComboBoxFor(p => p.ResponsiblePersonId).ValuePrimitive(true)
                              .DataValueField("Id").DataTextField("Name")
                              .DataSource(source => source.Read("ListEmployeIc", "Reference")))
                    </dd>
                    <br/>
                </dl>
            </fieldset>
        </td>
    </tr>
</table>




