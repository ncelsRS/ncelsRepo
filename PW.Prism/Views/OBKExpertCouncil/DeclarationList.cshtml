@using PW.Ncels.Database.DataModel
@model List<OBK_ExpertCouncil>

<script>

</script>
<script type="text/javascript" src="~/Scripts/ExpertCouncil/declarationList.js"></script>

@(Html.Kendo()
    .Grid<PW.Prism.ViewModels.OBK.ExpertCouncil.ECDeclarationListMV>()
    .Name("EC_gridAssessmentDeclaration")
    .Columns(columns =>
    {
        columns.Bound(p => p.Id).ClientTemplate("<input class='checkbox' type='checkbox' />").Width(24).Title("").Filterable(false).Sortable(false)
            .HeaderHtmlAttributes(new { @class = "not-visible-custom-column" });
        columns.Bound(p => p.Number).Title("Номер заявки").Width(150);
        columns.Bound(p => p.FirstSendDate).Format("{0:dd.MM.yyyy}").Title("Дата заявки").Width(120);
        columns.Bound(p => p.DeclarantName).Title("Заявитель").Width(350);
        columns.Bound(p => p.ContractNumber).Title("№ договора").Width(150);
        columns.Bound(p => p.Result).Title("Решение ЭС");
        columns.Bound(p => p.Comment).Title("Обоснование решения");
    })
    .AutoBind(false)
    .Reorderable(reorderable => reorderable.Columns(true))
    .Resizable(resizable => resizable.Columns(true))
    .Groupable()
    .Sortable()
    .Filterable()
    .Selectable(selectable => selectable.Mode(GridSelectionMode.Single))
    .Scrollable(scrollable => scrollable.Virtual(true))
    .Pageable()
    .HtmlAttributes(new { @class = "pwGrid" })
    .DataSource(dataSource => 
        dataSource
            .Ajax()
            .Sort(sort => { sort.Add("FirstSendDate").Descending(); })
            .PageSize(50)
            .Read(read => read.Action("ListRegister", "OBKExpertCouncil"))
    )
)