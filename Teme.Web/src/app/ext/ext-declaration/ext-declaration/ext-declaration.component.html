<form novalidate #contractForm="ngForm">
  <div class="breadcrumbs">
    <div class="row">
      <div class="col-lg-12">
        <h2 class="font-weight-300">Создать заявку</h2>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">
        <a routerLink="/ext">Домашняя страница</a>
        <span>/</span>
        <a routerLink="/ext/declarations">Заявки</a>
        <span>/</span>
        <span class="fw-600">Создать заявку</span>
      </div>
    </div>
  </div>

  <div class="dec-out">
    <div class="dec-in">
      <h3>Заявка</h3>
      <div class="controls">
        <div class="btn-group" role="group">
          <button type="button" routerLink="/ext/declarations" class="btn btn-info btn-sm"><i
            class="fa fa-arrow-left"></i>Вернуться в список
          </button>
          <button type="button" class="btn btn-default btn-sm"><i class="fa fa-map-o"></i>Скрыть примечание</button>
          <button type="button" class="btn btn-success btn-sm btn"><i class="fa fa-check"></i>Проверить</button>
          <button type="button" class="btn btn-primary btn-sm"><i class="fa fa-eye"></i>Просмотр</button>
        </div>
        <div class="btn-group  pull-right" role="group">
          <button type="button" class="btn btn-success btn-sm"><i class="fa fa-send-o"></i>Подписать и отправить
          </button>
          <button type="button" (click)="sendToNcels(contractForm.valid)" class="btn btn-warning btn-sm">
            <i class="fa fa-send-o"></i>Отправить без подписи
          </button>
        </div>
      </div>
      <nav>
        <div class="nav nav-tabs" id="nav-tab" role="tablist" value="fl">
          <a class="nav-item nav-link active" data-toggle="tab" role="tab "
             [ngClass]="{'text-danger': showAllErr && generalForm.invalid }"
             aria-controls="nav-home" aria-selected="true" (click)="setDeclarationTab('general')">
            Общие сведения</a>
          <a class="nav-item nav-link" data-toggle="tab" role="tab"
             aria-controls="nav-profile" aria-selected="false" (click)="setDeclarationTab('imn')">Комплектация ИМН
            и МТ</a>
          <a class="nav-item nav-link" data-toggle="tab" role="tab"
             [ngClass]="{'text-danger': showAllErr && producerForm.invalid }"
             aria-controls="nav-contact" aria-selected="false" (click)="setDeclarationTab('producer')">Производители
            и участки производства</a>
          <a class="nav-item nav-link" data-toggle="tab" role="tab"
             aria-controls="nav-contact" aria-selected="false"
             (click)="setDeclarationTab('agreement')">Соглашение</a>
          <a class="nav-item nav-link" data-toggle="tab" role="tab"
             aria-controls="nav-contact" aria-selected="false"
             [ngClass]="{'text-danger': showAllErr && producerForm.invalid }"
             (click)="setDeclarationTab('journal')">Журнал Образцов\материалов</a>
          <a class="nav-item nav-link" data-toggle="tab" role="tab"
             aria-controls="nav-contact" aria-selected="false"
             (click)="setDeclarationTab('attachments')">Вложения</a>
        </div>
      </nav>
      <div class="pd-20">
        <div [hidden]="type !== 'general'">
          <app-ext-general-information [showErrors]="showAllErr" name="generalForm" [(ngModel)]="declaration.general"
                                       required #generalForm="ngModel"></app-ext-general-information>
        </div>
        <div [hidden]="type !== 'imn'">
          <app-ext-imn-set></app-ext-imn-set>
        </div>
        <div [hidden]="type !== 'producer'">
          <app-ext-producer [showErrors]="showAllErr" name="producerForm" [(ngModel)]="declaration.producer"
                            required #producerForm="ngModel"></app-ext-producer>
        </div>
        <div [hidden]="type !== 'agreement'">
          <app-ext-agreement></app-ext-agreement>
        </div>
        <div [hidden]="type !== 'journal'">
          <app-ext-journal [showErrors]="showAllErr" name="journalForm" [(ngModel)]="declaration.journal"
                           required #journalForm="ngModel"></app-ext-journal>
        </div>
        <div [hidden]="type !== 'attachments'">
          <app-ext-attachments></app-ext-attachments>
        </div>
      </div>
    </div>
  </div>
</form>
